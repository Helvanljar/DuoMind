{% extends "base.html" %}
{% block title %}Settings – DuoMind{% endblock %}
{% block content %}
<section class="card">
  <h1 data-i18n="settings.title">Settings</h1>
  {% if not current_user %}
    <p class="muted" data-i18n="settings.needlogin">You need to be logged in to edit your OpenAI / Gemini keys.</p>
    <p class="muted">
      <a href="/login" onclick="return DuoMindModal.open('/login');" data-i18n="nav.login">Login</a> ·
      <a href="/register" onclick="return DuoMindModal.open('/register');" data-i18n="nav.register">Register</a>
    </p>
  {% else %}
    <p class="muted" data-i18n="settings.desc">Provide your own keys (BYOK) and preferred model.</p>
    <form class="form-vertical" method="post" action="/settings">
      <label>
        <span>OpenAI API Key</span>
        <input type="password" name="openai_key" placeholder="sk-..." class="input" />
      </label>
      <label>
        <span>Gemini API Key</span>
        <input type="password" name="gemini_key" placeholder="AIza..." class="input" />
      </label>
      <label>
        <span>Preferred LLM</span>
        <select name="preferred_llm" class="input">
          <option value="auto">Auto (GPT → Gemini)</option>
          <option value="openai">OpenAI first</option>
          <option value="gemini">Gemini first</option>
        </select>
      </label>
      <button class="btn-primary" type="submit">Save</button>
    </form>
  {% endif %}
</section>
{% endblock %}
